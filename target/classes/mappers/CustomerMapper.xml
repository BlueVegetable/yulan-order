<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yulan.dao.CustomerDao" >
    <resultMap id="BaseResultMap" type="Customer" >
        <id column="CUSTOMER_CODE" property="customerCode" jdbcType="VARCHAR" />
        <result column="CUSTOMER_NAME" property="customerName" jdbcType="VARCHAR" />
        <result column="STATUS_ID" property="statusId" jdbcType="VARCHAR" />
        <result column="CUSTOMER_BELONG" property="customerBelong" jdbcType="VARCHAR" />
        <result column="AREA_CODE" property="areaCode" jdbcType="VARCHAR" />
        <result column="SHORT_NAME" property="shortName" jdbcType="VARCHAR" />
        <result column="CUSTOMER_TYPE" property="customerType" jdbcType="VARCHAR" />
        <result column="CUSTOMER_CODE_3" property="customerCode3" jdbcType="VARCHAR" />
        <result column="DISTRICT" property="district" jdbcType="VARCHAR" />
        <result column="CITY" property="city" jdbcType="VARCHAR" />
        <result column="CITY_TYPE" property="cityType" jdbcType="VARCHAR" />
        <result column="AGENCY_STATUS" property="agencyStatus" jdbcType="VARCHAR" />
        <result column="CUSTOMER_ZT" property="customerZt" jdbcType="VARCHAR" />
        <result column="O2O_FLAG" property="o2oFlag" jdbcType="VARCHAR" />
        <result column="AREA_DISTRICT" property="areaDistrict" jdbcType="VARCHAR" />
        <result column="BALANCE_RECEIVE" property="balanceReceive" jdbcType="DECIMAL" />
        <result column="CREDIT_CODE" property="creditCode" jdbcType="VARCHAR" />
        <result column="CURRENCY_ID" property="currencyId" jdbcType="VARCHAR" />
        <result column="DATE_CRE" property="dateCre" jdbcType="TIMESTAMP" />
        <result column="DATE_UPDATE" property="dateUpdate" jdbcType="TIMESTAMP" />
        <result column="DEPT_NO" property="deptNo" jdbcType="VARCHAR" />
        <result column="EMAIL" property="email" jdbcType="VARCHAR" />
        <result column="FAX" property="fax" jdbcType="VARCHAR" />
        <result column="FINANCE_CODE" property="financeCode" jdbcType="VARCHAR" />
        <result column="INTRANET" property="intranet" jdbcType="VARCHAR" />
        <result column="JURIDIC_PERSON" property="juridicPerson" jdbcType="VARCHAR" />
        <result column="NOTES" property="notes" jdbcType="VARCHAR" />
        <result column="OFFICE_TEL" property="officeTel" jdbcType="VARCHAR" />
        <result column="POST_ADDRESS" property="postAddress" jdbcType="VARCHAR" />
        <result column="QUOTA_SALE" property="quotaSale" jdbcType="DECIMAL" />
        <result column="SALESMAN" property="salesman" jdbcType="VARCHAR" />
        <result column="SCALE" property="scale" jdbcType="VARCHAR" />
        <result column="TAX_NO" property="taxNo" jdbcType="VARCHAR" />
        <result column="TRADE_DESC" property="tradeDesc" jdbcType="VARCHAR" />
        <result column="T_ACCOUNT" property="tAccount" jdbcType="VARCHAR" />
        <result column="ZIP_CODE" property="zipCode" jdbcType="VARCHAR" />
        <result column="IMPORTANT_FLAG" property="importantFlag" jdbcType="VARCHAR" />
        <result column="DELIVERY_ADRESS" property="deliveryAdress" jdbcType="VARCHAR" />
        <result column="CUSTOMER_CLASSIFY" property="customerClassify" jdbcType="VARCHAR" />
        <result column="FOLLOW_CODE" property="followCode" jdbcType="VARCHAR" />
        <result column="INVOICE_RECIEVE_START" property="invoiceRecieveStart" jdbcType="DECIMAL" />
        <result column="DATE_CHANGE_STATUS" property="dateChangeStatus" jdbcType="TIMESTAMP" />
        <result column="OPERATER_CHANGE_STATUS" property="operaterChangeStatus" jdbcType="VARCHAR" />
        <result column="REASON_CHANGE_STATUS" property="reasonChangeStatus" jdbcType="VARCHAR" />
        <result column="BALANCE_RECEIVE_ZT" property="balanceReceiveZt" jdbcType="DECIMAL" />
        <result column="RECEIVE_MONTH_START" property="receiveMonthStart" jdbcType="DECIMAL" />
        <result column="RECEIVE_MONTH_START_ZT" property="receiveMonthStartZt" jdbcType="DECIMAL" />
        <result column="AREA_DISTRICT_2" property="areaDistrict2" jdbcType="VARCHAR" />
        <result column="CREATOR" property="creator" jdbcType="VARCHAR" />
        <result column="UPDATER" property="updater" jdbcType="VARCHAR" />
        <result column="CONSIGNMENT_TYPE" property="consignmentType" jdbcType="VARCHAR" />
        <result column="PRICE_POLICY" property="pricePolicy" jdbcType="VARCHAR" />
        <result column="LEVEL_NO" property="levelNo" jdbcType="DECIMAL" />
        <result column="CUSTOMER_ACCOUNT" property="customerAccount" jdbcType="VARCHAR" />
        <result column="CUSTOMER_GROUP" property="customerGroup" jdbcType="VARCHAR" />
        <result column="CUSTOMER_DMSL" property="customerDmsl" jdbcType="VARCHAR" />
        <result column="CUSTOMER_FXSSL" property="customerFxssl" jdbcType="VARCHAR" />
        <result column="DATE_CRTS" property="dateCrts" jdbcType="DECIMAL" />
        <result column="CUSTOMER_AGENT" property="customerAgent" jdbcType="VARCHAR" />
        <result column="AREA_DISTRICT_3" property="areaDistrict3" jdbcType="VARCHAR" />
        <result column="OFFICE_TEL_1" property="officeTel1" jdbcType="VARCHAR" />
        <result column="HANDSET" property="handset" jdbcType="VARCHAR" />
        <result column="CUSTOMER_LEVEL" property="customerLevel" jdbcType="VARCHAR" />
        <result column="TRANSCOMPANY_ID" property="transcompanyId" jdbcType="VARCHAR" />
        <result column="MANAGER" property="manager" jdbcType="VARCHAR" />
        <result column="STOCK_NO" property="stockNo" jdbcType="VARCHAR" />
        <result column="CUSTOMER_BELONG2" property="customerBelong2" jdbcType="VARCHAR" />
        <result column="MANAGER1" property="manager1" jdbcType="VARCHAR" />
        <result column="INVOICE" property="invoice" jdbcType="VARCHAR" />
        <result column="RECEIVE_MONTH_START_SAL" property="receiveMonthStartSal" jdbcType="DECIMAL" />
        <result column="RECEIVE_MONTH_START_ZT_SAL" property="receiveMonthStartZtSal" jdbcType="DECIMAL" />
        <result column="HANDSET_2" property="handset2" jdbcType="VARCHAR" />
        <result column="TRANS_FLAG" property="transFlag" jdbcType="VARCHAR" />
        <result column="PASS_DATE" property="passDate" jdbcType="TIMESTAMP" />
        <result column="SIGN_FLAG" property="signFlag" jdbcType="VARCHAR" />
        <result column="MONEY_REBATE" property="moneyRebate" jdbcType="DECIMAL" />
        <result column="JURIDIC_PERSON_HANDSET_D" property="juridicPersonHandsetD" jdbcType="VARCHAR" />
        <result column="QQ_D" property="qqD" jdbcType="VARCHAR" />
        <result column="FAX_WL_D" property="faxWlD" jdbcType="VARCHAR" />
        <result column="ZIP_CODE_WL_D" property="zipCodeWlD" jdbcType="VARCHAR" />
        <result column="SHOP_AREA_D" property="shopAreaD" jdbcType="DECIMAL" />
        <result column="BUSINESS_WAY" property="businessWay" jdbcType="VARCHAR" />
        <result column="BUSINESS_LICENSE_NO" property="businessLicenseNo" jdbcType="VARCHAR" />
        <result column="ORGANIZATION_NO" property="organizationNo" jdbcType="VARCHAR" />
        <result column="GENERALTAXPAYER_STATUS" property="generaltaxpayerStatus" jdbcType="VARCHAR" />
        <result column="CUSTOMER_NAME_OLD" property="customerNameOld" jdbcType="VARCHAR" />
        <result column="EXAMINE_FLAG" property="examineFlag" jdbcType="VARCHAR" />
        <result column="DGZH" property="dgzh" jdbcType="VARCHAR" />
        <result column="CUSTOMER_CODE_4" property="customerCode4" jdbcType="VARCHAR" />
        <result column="IDCARD_NO" property="idcardNo" jdbcType="VARCHAR" />
        <result column="FLAG_SAL_ITEM" property="flagSalItem" jdbcType="VARCHAR" />
        <result column="BUSINESSLICENSE_DATE_END" property="businesslicenseDateEnd" jdbcType="VARCHAR" />
        <result column="CUSTOMER_PP_FLAG" property="customerPpFlag" jdbcType="VARCHAR" />
        <result column="TAX_ADDRESS" property="taxAddress" jdbcType="VARCHAR" />
        <result column="TAX_TEL" property="taxTel" jdbcType="VARCHAR" />
        <result column="TAX_BANK" property="taxBank" jdbcType="VARCHAR" />
        <result column="TAX_BANK_NO" property="taxBankNo" jdbcType="VARCHAR" />
        <result column="CUSTOMER_AGENT_1" property="customerAgent1" jdbcType="VARCHAR" />
        <result column="IMPORTANT_LEVEL" property="importantLevel" jdbcType="VARCHAR" />
    </resultMap>
    <select id="getCustomers" parameterType="Map" resultMap="BaseResultMap">
        select * from CUSTOMER where 1=1
        <if test="customerCode!=null">
            and (CUSTOMER_CODE=#{customerCode} or CUSTOMER_NAME=#{customerCode})
        </if>
        <if test="areaCodes!=null">
            and (
            <foreach collection="areaCodes" separator="or" index="index" item="item">AREA_CODE=#{item}</foreach>
            )
        </if>
        <if test="areaDistricts!=null">
            and (
            <foreach collection="areaDistricts" separator="or" index="index" item="item">AREA_DISTRICT=#{item}</foreach>
            )
        </if>
        <if test="customerTypes!=null">
            and (
            <foreach collection="customerTypes" separator="or" index="index" item="item">CUSTOMER_TYPE=#{item}</foreach>
            )
        </if>
    </select>
    <select id="getCustomersByGroupID" parameterType="Map" resultMap="BaseResultMap">
        select * from CUSTOMER where CUSTOMER_CODE in(select CID from customerInfoCard where GROUPID=#{groupID})
    </select>
</mapper>